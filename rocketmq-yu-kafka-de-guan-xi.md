# RocketMQ与Kafka的关系

       Kafka定位于日志传输场景，但是RocketMQ不仅做日志传输，在阿里很多关键业务系统都用到了RocketMQ。

不得不说一点，RocketMQ借鉴了Kafka的设计思想，可能会有不少网友认为RocketMQ仅仅是Kafka的一个山寨版。

 这里表述下我的个人观点：

1. RocketMQ在参考Kafka设计思想的同时，做到了取其精华，去其糟粕。解决了分区数限制、消息实时性、可靠性等问题。
2. 3.x版本的RocketMQ存储模型已经完全脱离了Kafka的设计初衷，每个队列（分区）不存储数据，仅仅存储数据的位置信息。并且为消息创建了索引，可以根据消息内容查询消息。
3. RocketMQ定位于队列模型消息中间件，这里的队列模型参考了Kafka分区的组织方式，即对于消息生产者轮询发送消息到不同的队列，消息消费者平均分配队列，来达到平均消费消息的目的。（个人认为Kafka分区组织方式是其最大亮点）
4. RocketMQ在可靠性方面做了很多工作，例如消息同步刷盘、HA异步复制、HA同步双写。在数据可靠性方面，RocketMQ要远远高于Kafka。

